<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Fun Corner</title>
<meta name="viewport" content="width=662, height=317, initial-scale=1.0, maximum-scale=1.0" />
<style>
  :root{
    --accent:#F36C21; --text:#2c3e50; --card:#fffefc; --bg:#ffffff;
    --cat-fun:#FFF5E6; --cat-eng:#E9F7EF; --cat-joke:#FDEDEC; --cat-trivia:#EBF5FB; --cat-history:#F4ECF7;
  }

  html,body{
    width:662px; height:317px;
    margin:0; padding:0;
    background:var(--bg);
    font-family:Khula, Arial, sans-serif;
    color:var(--text);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }

  h1{
    color:var(--accent);
    font-size:1.9rem;
    margin:4px 0 6px 0;
    text-align:center;
  }

  .card{
    width:94%;
    height:72%;
    background:var(--card);
    border-radius:20px;
    box-shadow:0 4px 8px rgba(0,0,0,.08);
    padding:12px 18px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:space-between;
    text-align:center;
    transition:opacity .8s ease-in-out;
  }

  .card.fade{opacity:0}

  #fact{
    font-size:1.6rem;
    line-height:1.25;
    max-width:95%;
    word-wrap:break-word;
    flex-grow:1;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:0 8px;
    text-align:center;
    transition:font-size .2s ease;
  }

  .pill{
    display:inline-block;
    padding:6px 16px;
    border-radius:999px;
    font-size:1rem;
    margin-top:10px;
    color:#333;
    white-space:nowrap;
  }

  .pill.fun{background:var(--cat-fun)}
  .pill.eng{background:var(--cat-eng)}
  .pill.joke{background:var(--cat-joke)}
  .pill.trivia{background:var(--cat-trivia)}
  .pill.history{background:var(--cat-history)}

  @media (min-width:900px){
    #fact{font-size:1.8rem;}
    h1{font-size:2rem;}
    .pill{font-size:1.1rem;}
  }
</style>
</head>
<body>
  <h1>🎉 Fun Corner</h1>
  <div class="card" id="card">
    <div id="fact">Loading…</div>
    <div class="pill" id="pill">Please wait</div>
  </div>

<script>
const repoBase = "https://f2wy76ckpj-ship-it.github.io/yodeck";
async function loadList(url){
  try{
    const r = await fetch(url,{cache:"no-store"});
    if(!r.ok)throw new Error();
    const j = await r.json();
    return Array.isArray(j)?j.filter(x=>typeof x==="string"&&x.trim()):[];
  }catch{return[]}
}
function wrap(list,cat,cls){return list.map(t=>({text:t,cat,cls}))}
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a}

const START_FUN = [
  "Honey never spoils—even 3000-year-old Egyptian honey is edible!",
  "Bananas are berries, but strawberries are not.",
  "Octopuses have three hearts and blue blood.",
  "A day on Venus is longer than a year on Venus.",
  "Wombat poop is cube-shaped.",
  "Sharks existed before trees.",
  "Hot water can freeze faster than cold—the Mpemba effect.",
  "There are more stars than grains of sand on Earth’s beaches.",
  "The Eiffel Tower grows ~15 cm in summer heat.",
  "Humans share ~60% of DNA with bananas!",
  "Butterflies taste with their feet.",
  "Koalas have fingerprints similar to humans.",
  "Sea otters hold hands while sleeping to avoid drifting apart.",
  "Sloths can hold their breath longer than dolphins.",
  "An ostrich’s eye is bigger than its brain.",
  "Cats can be allergic to humans.",
  "Cows have best friends and get stressed when separated.",
  "A snail can sleep for three years.",
  "Some turtles breathe through their rear ends.",
  "Your brain makes ~20 watts of power."
];
const START_ENG = [
  "Concrete is the most-used material on Earth after water.",
  "Rebar revolutionized modern construction.",
  "The Hong Kong–Zhuhai–Macau Bridge spans ~55 km.",
  "TBMs can exceed 15 m diameter—enough for a two-lane road.",
  "Base isolation lets buildings ‘float’ during earthquakes.",
  "Self-healing concrete seals cracks with bacteria.",
  "Wind vortices on chimneys are fixed with helical strakes.",
  "Segmental construction enables fast viaduct assembly.",
  "Asphalt is recyclable and widely reused.",
  "Cable-stayed bridges use straight cables radiating from towers.",
  "Burj Khalifa used ~330,000 m³ of concrete.",
  "3D-printed houses already exist in pilot projects.",
  "The Panama Canal operates mostly by gravity.",
  "Most structural steel is recycled.",
  "Modern wind turbines can reach 260 m height.",
  "Soil freezing can stabilize ground for tunneling.",
  "Launching girders lift precast viaduct segments.",
  "High-performance concrete can exceed 100 MPa strength.",
  "Dampers tame sway in tall buildings.",
  "Geogrids reinforce soil in road embankments."
];
const START_JOKE = [
  "Why did the computer show up late? It had a hard drive!",
  "I’d tell you a construction pun… but I’m still working on it.",
  "Why did the engineer cross the road? To optimize the crossing time.",
  "How many programmers to change a bulb? None—hardware issue!",
  "I told the hammer to relax. It nailed it.",
  "The bridge and I had tension issues… we needed more support.",
  "I tried to catch fog yesterday. Mist.",
  "Why don’t skeletons fight? They don’t have the guts.",
  "I have a joke about asphalt… but it’s a bit laid back.",
  "Parallel lines have so much in common—it’s a shame they’ll never meet.",
  "Never trust atoms—they make up everything.",
  "My math teacher called me average. How mean!",
  "I used to be a banker… I lost interest.",
  "Debugging: you are the detective and the culprit.",
  "I told a chemistry joke… no reaction.",
  "I need a vacation—my cache is full.",
  "404: Joke not found.",
  "There are 10 kinds of people: those who understand binary and those who don’t.",
  "Wi-Fi went down at home… now we talk to each other. Weird people live here!",
  "Real engineers count from zero."
];
const START_TRIVIA = [
  "Largest building by volume — Boeing Everett Factory (~13 million m³).",
  "Longest bridge main span — Akashi Kaikyō (1991 m).",
  "Tallest building (2025) — Burj Khalifa, 828 m.",
  "Country with most islands — Sweden (260,000+).",
  "Deepest trench — Mariana (~11,000 m).",
  "Element with symbol W — Tungsten (Wolfram).",
  "Longest rail tunnel — Gotthard Base, 57 km.",
  "Planet with most moons — Saturn.",
  "Hardest natural material — Diamond.",
  "‘The Eternal City’ — Rome.",
  "Largest desert — Antarctica.",
  "Everest grows ~4 mm per year.",
  "Venus spins clockwise.",
  "Giza’s Great Pyramid was tallest for ~3,800 years.",
  "Lightning is ~5× hotter than the sun’s surface.",
  "Most snowflakes have six sides.",
  "~70% of Earth is water.",
  "Humans & giraffes have same number of neck vertebrae.",
  "Amazon River has no bridges over its main course.",
  "A lightning bolt can power a 100-W bulb for months."
];
const START_HIST = [
  "1903 — Wright brothers’ first powered flight.",
  "1937 — Golden Gate Bridge opens.",
  "1959 — First microchip by Jack Kilby.",
  "1964 — Japan’s Shinkansen debuts.",
  "1969 — First ARPANET message (proto-Internet).",
  "1989 — The Web conceived by Tim Berners-Lee.",
  "1998 — Akashi Kaikyō Bridge sets span record.",
  "2016 — Gotthard Base Tunnel opens (57 km).",
  "1889 — Eiffel Tower opens.",
  "1914 — First commercial asphalt road in the US.",
  "1825 — First public railway opens in England.",
  "1879 — Edison patents practical light bulb.",
  "1901 — First transatlantic radio signal.",
  "1913 — Ford’s moving assembly line.",
  "1957 — Sputnik 1 becomes first satellite.",
  "1961 — Yuri Gagarin: first human in space.",
  "1981 — IBM PC launches.",
  "1990 — Hubble Space Telescope launched.",
  "2004 — Facebook founded.",
  "2012 — Curiosity rover lands on Mars."
];
  
async function start(){
  const fact=document.getElementById("fact");
  const pill=document.getElementById("pill");
  const [fun,eng,joke,trivia,hist]=await Promise.all([
    loadList(repoBase+"/fun.json").then(a=>a.length?a:START_FUN),
    loadList(repoBase+"/engineering.json").then(a=>a.length?a:START_ENG),
    loadList(repoBase+"/jokes.json").then(a=>a.length?a:START_JOKE),
    loadList(repoBase+"/trivia.json").then(a=>a.length?a:START_TRIVIA),
    loadList(repoBase+"/history.json").then(a=>a.length?a:START_HIST)
  ]);
  let items=[...wrap(fun,"Fun Fact","fun"),...wrap(eng,"Engineering Fact","eng"),...wrap(joke,"Joke","joke"),...wrap(trivia,"Trivia","trivia"),...wrap(hist,"This Day in History","history")];
  shuffle(items);
  let i=0;

  function adjustFont(){
    const el=fact;
    el.style.fontSize="1.6rem";
    while(el.scrollHeight>el.clientHeight && parseFloat(el.style.fontSize)>0.8){
      el.style.fontSize=(parseFloat(el.style.fontSize)-0.05)+"rem";
    }
  }

  function next(){
    const card=document.getElementById("card");
    card.classList.add("fade");
    setTimeout(()=>{
      const it=items[i];
      pill.textContent=it.cat;
      pill.className="pill "+it.cls;
      fact.textContent=it.text;
      adjustFont();
      card.classList.remove("fade");
      i=(i+1)%items.length;
      if(i===0)shuffle(items);
    },500);
  }

  next();
  setInterval(next,9000);
}
start();
</script>
</body>
</html>
